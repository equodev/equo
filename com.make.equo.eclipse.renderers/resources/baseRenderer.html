<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <!-- import CSS -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
</head>

<body>
    <div id="app" style="padding:0%; margin-top: 1px; margin-bottom: 1px">
        <el-button type="primary" size="mini" icon="el-icon-edit" plain v-on:click="send_onclick('edit')"></el-button>
        <el-button type="danger" size="mini" icon="el-icon-delete" plain v-on:click="send_onclick('remove')"></el-button>
    </div>
    <script src="equoContribution/websocketContribution/equoWebsockets.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.2/dist/vue.js"></script>
    <script src="https://unpkg.com/vuetify/dist/vuetify.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/element-ui/2.5.4/index.js"></script>

    <script>
        const namespace = getUrlParameter('namespace').toString()

        function getUrlParameter(sParam) {
            var url = new URL(window.location.href);
            var namespaceValue = url.searchParams.get(sParam);
            return namespaceValue;
        }

        function start_receiving_messages(vm) {
            equo.on(namespace + "_icons", values => {
                vm.$data.parts = values;
                console.log('values= ', values)
            });
        }
    </script>
    <script>
        // var myTask = Vue.component('my-task', {
        //     template: '#task-template',
        //     data: function () {
        //         return this.tasks; //Notice: in components data should return an object. For example "return { someProp: 1 }"
        //     },
        //     props: ['task']
        // });
        new Vue({
            el: '#app',
            data: {
                active: null,
                parts: []
            },
            methods: {
                send_onclick: function (accion) {
                    equo.send(namespace + '_iconClicked', {
                        command: accion
                    });
                },

            },
            created: function () {
                let vm = this;
                start_receiving_messages(vm);
            }

        });
    </script>
</body>

</html>