-buildpath: \
    com.make.equo.application.provider;version=latest,\
    io.netty.all;version=latest,\
    com.make.equo.server.offline.api;version=latest,\
    com.make.equo.ws.api;version=latest,\
    org.eclipse.jface,\
    org.eclipse.swt


-includeresource: -resources/

#-runrepos: Release
-resolve.effective: resolve
#-runsystemcapabilities: ${native_capability}
#-runprogramargs: 
vmargs:${if;${matches;${tolower;${os.name}};.*mac.*};-XstartOnFirstThread;}
-runvm: ${vmargs}

-runrequires.equo: \
    osgi.identity;filter:='(osgi.identity=org.eclipse.equinox.weaving.hook)',\
    osgi.identity;filter:='(osgi.identity=bndtools.runtime.eclipse.applaunch)',\
    osgi.identity;filter:='(&(osgi.identity=com.google.guava)(version>=20.0.0)(!(version>=21.0.0)))',\
    osgi.identity;filter:='(osgi.identity=com.make.equo.application.client)',\
    osgi.identity;filter:='(osgi.identity=com.make.equo.application.provider)',\
    osgi.identity;filter:='(osgi.identity=com.make.equo.aspects)',\
    osgi.identity;filter:='(osgi.identity=com.make.equo.contribution.api)',\
    osgi.identity;filter:='(osgi.identity=com.make.equo.contribution.provider)',\
    osgi.identity;filter:='(osgi.identity=com.make.equo.server.api)',\
    osgi.identity;filter:='(osgi.identity=com.make.equo.ws.api)',\
    osgi.identity;filter:='(osgi.identity=com.make.equo.server.offline.api)',\
    osgi.identity;filter:='(osgi.identity=com.make.equo.server.offline.provider)',\
    osgi.identity;filter:='(osgi.identity=com.make.equo.analytics.client.api)',\
    osgi.identity;filter:='(osgi.identity=com.make.equo.analytics.client.provider)',\
    osgi.identity;filter:='(osgi.identity=com.make.equo.analytics.internal.api)',\
    osgi.identity;filter:='(osgi.identity=com.make.equo.analytics.internal.provider)',\
    osgi.identity;filter:='(osgi.identity=com.make.equo.aer.api)',\
    osgi.identity;filter:='(osgi.identity=com.make.equo.aer.provider)',\
    osgi.identity;filter:='(osgi.identity=com.make.equo.logging.client.api)',\
    osgi.identity;filter:='(osgi.identity=com.make.equo.logging.client.provider)',\
    osgi.identity;filter:='(osgi.identity=com.make.equo.aer.internal.api)',\
    osgi.identity;filter:='(osgi.identity=com.make.equo.aer.internal.provider)',\
    osgi.identity;filter:='(osgi.identity=com.make.equo.ui.helper.provider)',\
    osgi.identity;filter:='(osgi.identity=com.make.equo.contribution.media.provider)',\
    osgi.identity;filter:='(osgi.identity=com.make.equo.renderers)',\
    osgi.identity;filter:='(osgi.identity=org.eclipse.equinox.event)',\
    osgi.identity;filter:='(osgi.identity=org.eclipse.equinox.ds)',\
    osgi.identity;filter:='(osgi.identity=org.eclipse.e4.ui.workbench.swt)',\
    osgi.identity;filter:='(osgi.identity=org.eclipse.e4.ui.workbench.renderers.swt)',\
-runblacklist: \
    osgi.identity;filter:='(osgi.identity=slf4j.api)',\
    osgi.identity;filter:='(osgi.identity=org.eclipse.swt.cocoa.*)',\
    osgi.identity;filter:='(osgi.identity=org.eclipse.swt.win32.*)',\
    osgi.identity;filter:='(osgi.identity=org.eclipse.swt.gtk.*)',\
    osgi.identity;filter:='(osgi.identity=com.make.chromium.cef.cocoa.*)',\
    osgi.identity;filter:='(osgi.identity=com.make.chromium.cef.win32.*)',\
    osgi.identity;filter:='(osgi.identity=com.make.chromium.cef.gtk.*)',\
    osgi.identity;filter:='(osgi.identity=org.eclipse.swt.chromium.cocoa.*)',\
    osgi.identity;filter:='(osgi.identity=org.eclipse.swt.chromium.win32.*)',\
    osgi.identity;filter:='(osgi.identity=org.eclipse.swt.chromium.gtk.*)',\
    osgi.identity;filter:='(osgi.identity=com.make.chromium.cef.dev.cocoa.*)',\
    osgi.identity;filter:='(osgi.identity=com.make.chromium.cef.dev.win32.*)',\
    osgi.identity;filter:='(osgi.identity=com.make.chromium.cef.dev.gtk.*)'


-runproperties.equo: \
    aj.weaving.verbose=true,\
    org.aspectj.weaver.showWeaveInfo=true,\
    org.aspectj.osgi.verbose=true,\
    osgi.framework.extensions=org.eclipse.equinox.weaving.hook,\
    applicationCSS=platform:/plugin/com.make.equo.application.provider/default.css,\
    applicationXMI=com.make.equo.application.provider/Application.e4xmi,\
    eclipse.application=${def;eclipseApplication;org.eclipse.e4.ui.workbench.swt.E4Application},\
    lifeCycleURI=bundleclass://com.make.equo.application.provider/com.make.equo.application.LifeCycleManager,\
    eclipse.consoleLog=true,\
    launch.keep=false,\
    launch.storage.dir=.rt/cfg,\
    osgi.instance.area.default=.rt/,\
    com.apple.mrj.application.apple.menu.about.name=${def;appName},\
    rendererFactoryUri=bundleclass://com.make.equo.renderers/com.make.equo.renderers.EclipseWebRendererFactory,\
    org.eclipse.swt.chromium.remote-debugging-port=8888,\
    swt.chromium.debug=true

-runproperties.app: \
    app_name=${def;appName},\
# Set to true if you want to modify the original HTML content. False otherwise. True is the default value.,\
    change_original_html=true,\
# The url of the Influxdb database on Equo Platform. It may contain a token to connect to it. Then it should be generated on the launcher probably,\
    equo_influxdb_url=http://www.dev.influx.maketechnology.io/,\
# Username and password to connect to the Equo Platform. For example for analytics.,\
    equo_username=${def;equoUsername},\
    equo_password=${def;equoPassword},\
    bg_color=${def;bgColor},\
    fg_color=${def;fgColor},\
    logo=${def;logo}

os:${if;${matches;${tolower;${os.name}};.*win.*};win32;${if;${matches;${tolower;${os.name}};.*mac.*};macosx;linux}}
ws:${if;${matches;${tolower;${os.name}};.*win.*};win32;${if;${matches;${tolower;${os.name}};.*mac.*};cocoa;gtk}}
chromiumos:${if;${matches;${tolower;${os.name}};.*win.*};win32;${if;${matches;${tolower;${os.name}};.*mac.*};macosx;linux}}
swt.fragment: org.eclipse.swt.${ws}.${os}.x86_64
devtools.fragment: com.make.chromium.cef.dev.${ws}.${chromiumos}
cef.fragment: com.make.chromium.cef.${ws}.${chromiumos}.x86_64
chromium.fragment: org.eclipse.swt.chromium.${ws}.${chromiumos}.x86_64
fragment.and.cocoa:${if;${matches;${tolower;${os.name}};.*mac.*};${swt.fragment},\${cef.fragment},\${devtools.fragment},\${chromium.fragment},\org.eclipse.e4.ui.workbench.renderers.swt.cocoa;${swt.fragment},\${cef.fragment}},\${devtools.fragment},\${chromium.fragment}

    
#-runproperties.debug: \
#    osgi.console= 

#-augment.cef: \
#    com.make.cef; \
#        requirement:= "osgi.native;filter:='(&(osgi.native=com.make.cef)(osgi.native.osname=${os}))'"

#-augment.cef.fragment: \
#    com.make.cef.linux.x86_64; \
#        capability:= "osgi.native;osgi.native=com.make.cef;osgi.native.osname=linux", \
#    com.make.cef.osx.x86_64; \
#        capability:= "osgi.native;osgi.native=com.make.cef;osgi.native.osname=macosx", \
#    com.make.cef.windows.x86_64; \
#        capability:= "osgi.native;osgi.native=com.make.cef;osgi.native.osname=win32", \

-runbundles.platform: \
    ${fragment.and.cocoa}
    
-runpath.equo: \
    org.eclipse.equinox.weaving.hook;version='[1.2.500, 1.2.501)'
    
-runbundles.equo: \
    org.eclipse.equinox.weaving.hook;version='[1.2.500,1.2.501)',\
    bndtools.runtime.eclipse.applaunch;version='[0.1.0,0.1.1)',\
    com.google.gson;version='[2.8.2,2.8.3)',\
    com.make.equo.aer.internal.provider;version=snapshot,\
    com.make.equo.aer.provider;version=snapshot,\
    com.make.equo.analytics.client.api;version=snapshot,\
    com.make.equo.analytics.client.provider;version=snapshot,\
    com.make.equo.analytics.internal.provider;version=snapshot,\
    com.make.equo.application.client;version=snapshot,\
    com.make.equo.aspects;version=snapshot,\
    com.make.equo.renderers;version=snapshot,\
    com.make.equo.contribution.media.provider;version=snapshot,\
    com.make.equo.logging.client.api;version=snapshot,\
    com.make.equo.logging.client.provider;version=snapshot,\
    com.make.equo.renderers;version=snapshot,\
    com.make.equo.contribution.api;version=snapshot,\
    com.make.equo.contribution.provider;version=snapshot,\
    com.make.equo.server.offline.provider;version=snapshot,\
    com.squareup.moshi;version='[1.4.0,1.4.1)',\
    com.squareup.okhttp3.logging-interceptor;version='[3.9.1,3.9.2)',\
    com.squareup.retrofit2.converter-moshi;version='[2.3.0,2.3.1)',\
    com.squareup.retrofit2.retrofit;version='[2.3.0,2.3.1)',\
    org.eclipse.swt.chromium;version='[69.1.0,69.1.1)',\
    org.eclipse.swt.chromium.64b;version='[69.1.0,69.1.1)',\
    jnr.x86asm;version='[1.0.2,1.0.3)',\
    org.aspectj.runtime;version='[1.9.2,1.9.3)',\
    org.eclipse.e4.ui.workbench.renderers.swt;version='[0.14.900,0.14.901)',\
    org.eclipse.emf.emfstore.common;version='[1.9.0,1.9.1)',\
    org.eclipse.equinox.ds;version='[1.6.100,1.6.101)',\
    org.eclipse.equinox.event;version='[1.5.300,1.5.301)',\
    org.eclipse.osgi.services;version='[3.8.0,3.8.1)',\
    org.eclipse.osgi.util;version='[3.5.300,3.5.301)',\
    com.squareup.okhttp3.okhttp;version='[3.5.0,3.5.1)',\
    com.squareup.okio;version='[1.11.0,1.11.1)',\
    org.apache.commons.logging;version='[1.2.0,1.2.1)',\
    org.apache.xmlgraphics;version='[2.3.0,2.3.1)',\
    javax.activation;version='[1.1.0,1.1.1)',\
    javax.annotation;version='[1.2.0,1.2.1)',\
    javax.xml.bind;version='[2.2.0,2.2.1)',\
    javax.xml;version='[1.3.4,1.3.5)',\
    org.influxdb.java;version='[2.9.0,2.9.1)'
    
#-runbundles.debug: \    
#    org.eclipse.equinox.console,\
#    org.apache.felix.gogo.command,\
#    org.apache.felix.gogo.runtime,\
#    org.apache.felix.gogo.shell,\

app.bundle: ${basename;${dir;${p_sourcepath}}}
-runrequires: \
    osgi.identity;filter:='(osgi.identity=${app.bundle})'
#-runbundles: \
#    ${app.bundle}